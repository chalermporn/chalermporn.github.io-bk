var config={spiralResolution:1,spiralLimit:1800,lineHeight:.8,xWordPadding:0,yWordPadding:3},words=["words","are","cool","and","so","are","you","inconstituent","funhouse!","apart","from","Steve","fish"].map(function(t){return{word:t,freq:Math.floor(50*Math.random())+10}});words.sort(function(t,o){return-1*(t.freq-o.freq)});var cloud=document.getElementById("tag_cloud");cloud.style.position="relative";var startPoint={x:cloud.offsetWidth/2,y:cloud.offsetHeight/2},wordsDown=[];function createWordObject(t,o){var e=document.createElement("div");return e.style.position="absolute",e.style.fontSize=o+"px",e.style.lineHeight=config.lineHeight,e.appendChild(document.createTextNode(t)),e}function placeWord(t,o,e){cloud.appendChild(t),t.style.left=o-t.offsetWidth/2+"px",t.style.top=e-t.offsetHeight/2+"px",wordsDown.push(t.getBoundingClientRect())}function spiral(t,o){return angle=config.spiralResolution*t,x=(1+angle)*Math.cos(angle),y=(1+angle)*Math.sin(angle),o?o():null}function intersect(t,o,e){cloud.appendChild(t),t.style.left=o-t.offsetWidth/2+"px",t.style.top=e-t.offsetHeight/2+"px";var n=t.getBoundingClientRect();cloud.removeChild(t);for(var i=0;i<wordsDown.length;i+=1){var r=wordsDown[i];if(!(n.right+config.xWordPadding<r.left-config.xWordPadding||n.left-config.xWordPadding>r.right+config.wXordPadding||n.bottom+config.yWordPadding<r.top-config.yWordPadding||n.top-config.yWordPadding>r.bottom+config.yWordPadding))return!0}return!1}!function(){for(var t=0;t<words.length;t+=1)for(var o=createWordObject(words[t].word,words[t].freq),e=0;e<config.spiralLimit&&!spiral(e,function(){if(!intersect(o,startPoint.x+x,startPoint.y+y))return placeWord(o,startPoint.x+x,startPoint.y+y),!0});e++);}();